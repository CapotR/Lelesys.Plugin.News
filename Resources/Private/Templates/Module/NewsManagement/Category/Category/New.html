{namespace assets=TYPO3\Asset\ViewHelpers}
<f:layout name="DefaultBackend" />

<f:section name="Content">
	<f:form action="create" name="newCategory" id="news-category-form" enctype="multipart/form-data">
		<div class="row neos-module-container">
			<fieldset class="span5">
				<legend><f:translate id="lelesys.plugin.news.newCategory"></f:translate></legend>
				<div class="control-group">
					<label for="title"><f:translate id="lelesys.plugin.news.title"></f:translate></label>
					<div class="controls">
						<f:form.textfield property="title" id="title" class="title-category"/>
						<f:render partial="FormErrors" arguments="{for: 'newCategory.title'}" />
					</div>
				</div>
				<div class="control-group">
					<label for="image"><f:translate id="lelesys.plugin.news.image"></f:translate></label>
					<div class="controls">
						<f:form.upload property="image" id="image" class="img"/>
					</div>
				</div>
				<div class="control-group">
					<label for="parentcategory"><f:translate id="lelesys.plugin.news.parentCategory"></f:translate></label>
					<div class="controls">
						<f:form.select options="{newsParentCategory}" optionLabelField="title" prependOptionLabel='<f:translate id="lelesys.plugin.news.selectCategory"></f:translate>' id="parentCategory" property="parentCategory"></f:form.select>
					</div>
				</div>
				<div class="control-group">
					<label for="description"><f:translate id="lelesys.plugin.news.description"></f:translate></label>
					<div class="controls">
						<f:form.textarea rows="4" cols="8" property="description" id="description"/>
					</div>
				</div>
				<div class="control-group">
					<label for="folder"><f:translate id="lelesys.plugin.news.folder"></f:translate></label>
					<div class="controls">
						<f:form.select options="{folders}" optionLabelField="title" id="folders" prependOptionLabel='<f:translate id="lelesys.plugin.news.selectFolder"></f:translate>' property="folder"></f:form.select>
					</div>
				</div>
			</fieldset>
		</div>
		<div class="neos-form-actions neos-form-footer">
			<f:link.action action="index" class="neos-btn neos-button"><f:translate id="lelesys.plugin.news.cancel"></f:translate></f:link.action>
			<div class="pull-right">
				<input class="neos-btn btn-primary neos-button createCategory" type="button" value='<f:translate id="lelesys.plugin.news.save"></f:translate>'>
			</div>
		</div>
	</f:form>
	<script>
		checkTitle = "{f:uri.action(package:'Lelesys.Plugin.News', action:'checkTitle', controller:'Category')}";
	</script>
	<assets:bundle.css name="Lelesys.Plugin.News:defaultStyles" />
	<assets:bundle.js name="Lelesys.Plugin.News:BackendJs" />
</f:section>