<f:layout name="Default" />

<f:section name="Content">
	<div class="main-container">
		<h2><f:translate id="lelesys.plugin.news.addNews"></f:translate></h2>
		<f:form action="create" name="newNews" enctype="multipart/form-data">
			<div class="tabbable tab tab-size">
				<ul class="nav nav-tabs">
					<li class="active"><a href="#tab1" data-toggle="tab"><f:translate id="lelesys.plugin.news.general"></f:translate></a></li>
					<li><a href="#tab2" data-toggle="tab"><f:translate id="lelesys.plugin.news.options"></f:translate></a></li>
					<li><a href="#tab3" data-toggle="tab"><f:translate id="lelesys.plugin.news.relations"></f:translate></a></li>
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="tab1">
						<div class="control-group">
							<label for="title"><f:translate id="lelesys.plugin.news.title"></f:translate></label>
							<div class="controls">
								<f:form.textfield class="span5 newsTitle" property="title" id="title" />
								<f:render partial="FormErrors" arguments="{for: 'newNews.title'}" />
							</div>
						</div>
						<div class="control-group">
							<label for="subTitle"><f:translate id="lelesys.plugin.news.subTitle"></f:translate></label>
							<div class="controls">
								<f:form.textarea class="span5" rows="4" cols="5" property="subTitle" id="subTitle" />
							</div>
						</div>
						<div class="control-group">
							<label for="alternativeTitle"><f:translate id="lelesys.plugin.news.alternativeTitle"></f:translate></label>
							<div class="controls">
								<f:form.textfield class="span5" property="alternativeTitle" id="alternativeTitle" />
							</div>
						</div>
						<div class="control-group">
							<label for="authorName"><f:translate id="lelesys.plugin.news.authorName"></f:translate></label>
							<div class="controls">
								<f:form.textfield class="span5" property="authorName" id="authorName" />
							</div>
						</div>
						<div class="control-group">
							<label for="authorEmail"><f:translate id="lelesys.plugin.news.authorEmail"></f:translate></label>
							<div class="controls">
								<f:form.textfield class="span5" property="authorEmail" id="authorEmail" />
								<f:render partial="FormErrors" arguments="{for: 'newNews.authorEmail'}" />
							</div>
						</div>
						<div class="control-group">
							<label for="dateTime"><f:translate id="lelesys.plugin.news.dateTime"></f:translate></label>
							<div class="controls">
								<f:form.textfield type="datetime" value="{f:format.date(date: 'now', format: 'm/d/Y')}" property="dateTime" id="dateTime" class="datepicker span5"/>
							</div>
						</div>
						<div class="control-group">
							<label for="startDate"><f:translate id="lelesys.plugin.news.startDate"></f:translate></label>
							<div class="controls">
								<f:form.textfield type="datetime" property="startDate" id="startDate" class="datepicker span5"/>
							</div>
						</div>
						<div class="control-group">
							<label for="endDate"><f:translate id="lelesys.plugin.news.endDate"></f:translate></label>
							<div class="controls">
								<f:form.textfield type="datetime" property="endDate" id="endDate" class="datepicker span5"/>
							</div>
						</div>
						<div class="control-group">
							<label for="folder"><f:translate id="lelesys.plugin.news.folder"></f:translate></label>
							<div class="controls">
								<f:form.select options="{folders}" optionLabelField="title" id="folders" prependOptionLabel="Select folder" property="folder" class="span5"></f:form.select>
							</div>
						</div>
						<div class="control-group">
							<label for="news-description"><f:translate id="lelesys.plugin.news.description"></f:translate></label>
							<div class="controls span10 nice-edit-size">
								<f:form.textarea cols="43" rows="10" property="description" id="news-description" />
							</div>
						</div>
					</div>
					<div class="tab-pane" id="tab2">
						<div class="control-group">
							<label for="categories"><f:translate id="lelesys.plugin.news.categories"></f:translate></label>
							<div class="controls">
								<f:if condition="{newsCategories}">
									<f:then>
										<f:form.select class="span5" options="{newsCategories}" optionLabelField="title" id="categories" property="categories" multiple="true" size="7"></f:form.select>
									</f:then>
									<f:else>
										<f:form.select disabled="disabled" class="span5" options="{newsCategories}" optionLabelField="title" id="categories" property="categories" size="7"></f:form.select>
									</f:else>
								</f:if>
							</div>
						</div>
						<div class="control-group">
							<label for="tags"><f:translate id="lelesys.plugin.news.tags"></f:translate></label>
							<div class="controls">
								<f:form.textfield name="tags[title]" id="tags"/>
							</div>
						</div>
						<div class="control-group">
							<label for="relatedNews"><f:translate id="lelesys.plugin.news.relatedNews"></f:translate></label>
							<div class="controls">
								<f:if condition="{relatedNews}">
									<f:then>
										<f:form.select class="span5" options="{relatedNews}" optionLabelField="title" id="relatedNews" property="relatedNews" multiple="true" size="7"></f:form.select>
									</f:then>
									<f:else>
										<f:form.select disabled="disabled" class="span5" options="{relatedNews}" optionLabelField="title" id="relatedNews" property="relatedNews" size="7"></f:form.select>
									</f:else>
								</f:if>
							</div>
						</div>
						<div class="control-group">
							<label for="keywords"><f:translate id="lelesys.plugin.news.keywords"> ( , )</f:translate></label>
							<div class="controls">
								<f:form.textarea class="span5" rows="4" cols="5" property="keywords" id="keywords" />
							</div>
						</div>
					</div>
					<div class="tab-pane" id="tab3">
						<label><f:translate id="lelesys.plugin.news.mediaElement"></f:translate></label>
						<div class="accordion" id="accordionOne">
							<div class="accordion-group" style="display: none;">
								<div class="accordion-heading">
									<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionOne" href="#collapse-media-0">
										Related Media #0
									</a>
								</div>
								<div id="collapse-media-0" class="accordion-body collapse in">
									<div class="accordion-inner">
										<div class="control-group">
											<label class="control-label" for="resource-0"><f:translate id="lelesys.plugin.news.image"></f:translate></label>
											<div class="controls">
												<f:form.upload name="media[0][resource]" id="resource-0" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="caption-0"><f:translate id="lelesys.plugin.news.caption"></f:translate></label>
											<div class="controls">
												<f:form.textfield class="span5" name="media[0][caption]" id="caption-0" />
											</div>
										</div>
									</div>
								</div>
							</div>
							<f:link.external uri="javascript:void(0)" class="add-more-media"><f:translate id="lelesys.plugin.news.addMoreMedia"></f:translate></f:link.external>
						</div>
						<label><f:translate id="lelesys.plugin.news.relatedFiles"></f:translate></label>
						<div class="accordion" id="accordionTwo">
							<div class="accordion-group" style="display: none;">
								<div class="accordion-heading">
									<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionTwo" href="#collapse-file-0">
										Related File #0
									</a>
								</div>
								<div id="collapse-file-0" class="accordion-body collapse in">
									<div class="accordion-inner">
										<div class="control-group">
											<label class="control-label" for="file-resource-0"><f:translate id="lelesys.plugin.news.file"></f:translate></label>
											<div class="controls">
												<f:form.upload name="file[0][resource]" id="file-resource-0" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="file-title-0"><f:translate id="lelesys.plugin.news.title"></f:translate></label>
											<div class="controls">
												<f:form.textfield class="span5" name="file[0][title]" id="file-title-0" />
											</div>
										</div>
									</div>
								</div>
							</div>
							<f:link.external uri="javascript:void(0)" class="add-more-files"><f:translate id="lelesys.plugin.news.addMoreFiles"></f:translate></f:link.external>
						</div>
						<label><f:translate id="lelesys.plugin.news.relatedLinks"></f:translate></label>
						<div class="accordion" id="collapseThree">
							<div class="accordion-group" style="display: none;">
								<div class="accordion-heading">
									<a class="accordion-toggle" data-toggle="collapse" data-parent="#collapseThree" href="#collapse-link-0">
										Related Link #0
									</a>
									<f:form.hidden class="show-hide-value" value="0" name="relatedLink[0][hidden]" />
									<f:link.external uri="javascript:void(0)" class="asset-toggle hide-asset pull-right hide-show-file tooltip-demo" rel="tooltip" title="Hide"><i class="icon-eye-close"></i> </f:link.external>
								</div>
								<div id="collapse-link-0" class="accordion-body collapse in">
									<div class="accordion-inner">
										<div class="control-group">
											<label class="control-label" for="relatedLinks-0"><f:translate id="lelesys.plugin.news.uri"></f:translate></label>
											<div class="controls">
												<f:form.textfield class="span5 text-added"  name="relatedLink[0][relatedUri]" id="relatedLinks-0" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="relatedLinks-title-0"><f:translate id="lelesys.plugin.news.title"></f:translate></label>
											<div class="controls">
												<f:form.textfield class="span5"  name="relatedLink[0][relatedUriTitle]" id="relatedLinks-title-0" />
											</div>
										</div>
										<div class="control-group">
											<label class="control-label" for="relatedLinks-description-0"><f:translate id="lelesys.plugin.news.description"></f:translate></label>
											<div class="controls">
												<f:form.textarea class="span5" rows="4" cols="5" name="relatedLink[0][relatedUriDescription]" id="relatedLinks-description-0" />
											</div>
										</div>
									</div>
								</div>
							</div>
							<f:link.external uri="javascript:void(0)" class="add-more-related-link"><f:translate id="lelesys.plugin.news.addMoreRelatedLinks"></f:translate></f:link.external>
						</div>
					</div>
				</div>
				<div class="control-group">
					<div class="controls">
						<f:form.submit class="btn createNews" value="Create" />
					</div>
				</div>
			</div>
		</f:form>
	</div>
	<!--This js is to display rte -->
	<script src="{f:uri.resource(path:'nicEdit/nicEdit.js')}" type="text/javascript"></script>
	<script src="{f:uri.resource(path:'nicEdit/domscript.js')}" type="text/javascript"></script>
</f:section>